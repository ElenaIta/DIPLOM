# План автоматизации

## Валидные значения:
* **Номера карт:** 16 цифр
    * APPROVED - 4444 4444 4444 4441;
    * DECLINED - 4444 4444 4444 4442.
* **Месяц:** число из 2 цифр от 01 до 12
* **Год:** две цифры года позже текущего года на значение от 0 до 5
* **Владелец:** латинскими буквами
* **CVC/CVV:** три цифры

## Перечень автоматизируемых сценариев:

### Предусловие:
1. открыть страницу покупки тура http://localhost:8080/
2. кликнуть кнопку "Купить" (оплата картой)
***
### **Позитивные сценарии:**
***
  **1. Оплата картой:**

**1.1.**
   - заполнить все поля валидными данными для карты APPROVED;
   - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
  - появится всплывающее окно об одобрении операции банком.


**1.2.**
   - заполнить все поля валидными данными для карты DECLINED;
   - кликнуть кнопку "Продолжить".

   **Ожидаемый результат:**
  - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
  - появится всплывающее окно об отклонении операции банком.
***
  


### **Негативные сценарии:**
***
**1. Пустая форма:**
  - оставить все поля пустыми
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат;
  - под полем "Месяц" появится сообщение Неверный формат;
  - под полем "Год" появится сообщение Неверный формат;
  - под полем "Владелец" появится сообщение Поле обязательно для заполнения;
  - под полем "CVC/CVV" появится сообщение Неверный формат.
***

**2. Поле "Номер карты":**

**2.1.**  
  - заполнить поле невалидными номерами карт, с количеством цифр менее и более 16;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат.

**2.2.**
  - заполнить поле буквами (латиница/кирилица);
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат.

**2.3.**
  - заполнить поле нулями;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат.


**2.4.**
  - заполнить поле спецсимволами =+- :*;:? и т.д;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат.

**2.5.**
  - оставить пустое поле;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Номер карты" появится сообщение Неверный формат.

***
**3. Поле "Месяц":**

**3.1.**
  - заполнить поле невалидным числом, со значением месяца более 12;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Месяц" появится сообщение Неверно указан срок действия карты.
  
  **3.2.**
  - заполнить поле буквами (латиница/кирилица);
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Месяц" появится сообщение Неверный формат.

**3.3.**
  - заполнить поле одной цифрой;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Месяц" появится сообщение Неверный формат.

**3.4.**
  - заполнить поле спецсимволами =+- :*;:? и т.д;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Месяц" появится сообщение Неверный формат.

**3.5.**
  - оставить пустое поле;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Месяц" появится сообщение Неверный формат.  
***
  
**4. Поле "Год":**

**4.1.**
  - заполнить поле значением - текущий год - 1;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Истёк срок действия карты.

**4.2.**
  - заполнить поле значением - текущий год + 6;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Неверно указан срок действия карты.

**4.3.**
  - заполнить поле буквами (латиница/кирилица);
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Неверный формат.

**4.4.**
  - заполнить поле одной цифрой;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Неверный формат.

**4.5.**
  - заполнить поле спецсимволами =+- :*;:? и т.д;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Неверный формат.

**4.6.**
  - оставить пустое поле;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Год" появится сообщение Неверный формат.

***
**5. Поле "Владелец":**

**5.1.**
  - заполнить поле кирилицей;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.2.**
  - заполнить поле цифрами;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.3.**
  - заполнить поле одним словом (фамилия) на латинице;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.4.**
  - заполнить поле одной буквой на латинице;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.5.**
  - заполнить поле максимальным количеством букв на латинице;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.6.**
  - заполнить поле на латинице с использованием дефиса в двойной фамилии;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.7.**
  - заполнить поле спецсимволами =+- :*;:? и т.д;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Неверный формат имени владельца.

**5.8.**
  - оставить пустое поле;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "Владелец" появится сообщение Поле обязательно для заполнения.
***

**6. Поле "CVC/CVV":**

**6.1.**
  - заполнить поле буквами;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "CVC/CVV" появится сообщение Неверный формат.

**6.2.**
  - заполнить поле одной цифрой;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "CVC/CVV" появится сообщение Неверный формат.

**6.3.**
  - заполнить поля двумя цифрами;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "CVC/CVV" появится сообщение Неверный формат.

**6.4.**
  - заполнить поля четырьмя цифрами;


**6.5.**
  - заполнить поле спецсимволами =+- :*;:? и т.д;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "CVC/CVV" появится сообщение Неверный формат.

**6.6.**
  - оставить пустое поле;
  - остальные поля заполнить валидными данными;
  - кликнуть кнопку "Продолжить".

  **Ожидаемый результат:**
  - данные не отправлены;
  - под полем "CVC/CVV" появится сообщение Неверный формат.
  
***
**7. Аналогичные  сценарии для "Купить в кредит".**

***
## Перечень используемых инструментов с обоснованием выбора:

- JDK 11 - т.к. будет использоваться Java;
- IntelliJ IDEA - удобная среда подготовки авто-тестов;
- Gradle - инструмент управления зависимостями;
- DBeaver - для просмотра базы данных; 
- JUnit Jupiter - инструмент тестирования, более превычен нежели JUnit4 или TestNG;
- Selenide - удобен при тестировании веб-интерфейса;
- MySQL connector Java, PostgreSQL и Commons DBUtils - для доступа к базе данным из кода авто-тестов;
- Lombok - для упрощения написания кода;
- Faker - для генерации данных при отправке формы;
- Github - в качестве хранилища SUT и авто-тестов;
- Allure - для создания отчетов о выполнении авто-тестов;
- Allure-Selenide - для интеграции одного инструмента с другим.
***

## Перечень и описание возможных рисков при автоматизации:

- своеобразная настройка SUT при запуске (заявлена поддержка двух СУБД);
- отсутствие как таковой спецификации на приложение;
- необходимость добавления новых тестов для заказчика, при отсутствии документации и спецификации на приложение;
- зависимость авто-тестов от текущей реализации веб-элементов, даже не значительное их изменение может привести к падению авто-тестов;
- авто-тесты не проверяют графическую составляющую, а именно едет ли верстка при тех или иных действиях, комфортна ли выбранная цветовая схема оформления и тд.
***

## Интервальная оценка с учётом рисков (в часах):
Ориентировочно, 120 рабочих часов.

***

## План сдачи работ

- Написание тестов до 25 июля 2022;
- Предоставление отчетов до 05 августа 2022: